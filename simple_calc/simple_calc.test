<?php

class SimpleCalcUnit extends DrupalUnitTestCase {
  
  public static function getInfo() {
    return array(
      'name' => 'Simple Calculator Unit test',
      'description' => 'Simplecalc calculation testing',
      'group' => 'SimpleCalc',
    );
  }

  function setUp() {
    $this->int1 = 10;
    $this->int2 = 7;
    parent::setUp();
  }
  
  function testAddition() {
    $answer = simple_calc_calculate($this->int1, $this->int2,'add');
    
    $this->assertEqual(); // Missing, fill in the assertion here.
  }
  
  function testSubstraction() {
    // Missing
  }

}

class SimpleCalcFunctional extends DrupalWebTestCase {

  public static function getInfo() {
    return array(
      // Missing, fill this in to get it to show up.
    );
  }
  
  function setUp() {
    $this->int1 = rand(-10,10);
    $this->int2 = rand(-10,10);
    parent::setUp(array('simple_calc'));
    $this->admin_user = $this->drupalCreateUser(array('use simple calc'));
  }
  
  function testAddition() {
    $this->drupalLogin($this->admin_user);
    $edit = array(); 
    // Missing: Build this array to correspond to the fields on the simple_calc
    // form

    $return = $this->drupalPost('simple_calc', $edit, t('Calculate'));
    $this->assertText('The Answer is ' . $this->int1 + $this->int2, 'Addition worked');
  }
  
  function testSubstraction() {
    // Missing.
  }
}